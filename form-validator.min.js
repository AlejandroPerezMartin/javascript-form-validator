!function(a,b){"use strict";var c={alphanumeric:"The %s field only allow numbers and letters",defaultError:"This field is invalid",email:"You entered an invalid email",equal_to:"The %s field must to be equal to %a",exact_length:"The %s field must be exactly %a characters in length",greater_than:"The %s field must be greater than %a",integer:"The %s field only accepts integers",less_than:"The %s field must be less than %a",match:"The %s field should match '%a'",max_length:"The %s field can't exceed %a charcters",min_length:"The %s field must be at least %a characters in length",name:"The %s field only allows alphabetic characters, spaces and dashes",required:"This field is required",spanish_dni:"The %s field only allows 8 numbers and 1 character",spanish_mobile:"The %s field only allows 9 numbers",spanish_phone:"The %s field only allows 9 numbers",spanish_postal:"The %s field only allows 5 numbers",url:"This is not a valid URL",username:"The %s field only allows numbers, letters, '-' and '_'"},d=/^[a-zA-Z0-9]+$/,e=/^[A-z- 'áéíóúñçÁÉÍÓÚÑÇ]+$/,f=/^([a-z0-9_\.-]+)@([\da-z\.-]+)\.([a-z\.]{2,6})$/,g=/^\-?[0-9]+$/,h=/^[0-9]{8}[a-zA-Z]{1}$/,i=/^[67]{1}[0-9]{8}$/,j=/^[6789]{1}[0-9]{8}$/,k=/^[0-5]{1}[0-9]{4}$/,l=/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/,m=/^[a-zA-Z0-9_-]+$/,n=function(a,b){return new RegExp(" "+b+" ").test(" "+a.className+" ")},o=function(a,b){n(a,b)||(a.className+=" "+b)},p=function(a,b){var c=" "+a.className.replace(/[\t\r\n]/g," ")+" ";if(n(a,b)){for(;c.indexOf(" "+b+" ")>=0;)c=c.replace(" "+b+" "," ");a.className=c.replace(/^\s+|\s+$/g,"")}},q=function(a,b){var c=a.nextSibling;c&&n(c,b)&&c.remove()},r=function(a,b){a.insertAdjacentHTML("afterend",b)},s=function(a,b,c){this.fields=b,this.form=this.getFormByName(a);var d=this;if("live_validation"===c)for(var e=0,f=this.fields.length;f>e;e+=1)!function(a){var b=d.fields[a];d.form[b.name].addEventListener("blur",function(){d.validateField(b),this.addEventListener("keyup",function(){d.validateField(b)})})}(e);this.form.onsubmit=function(a){if(!d.validateForm(d.fields)&&(a.preventDefault(),!document.getElementsByClassName("js-form-error-message")[0])){var b=document.createElement("DIV");b.className="js-form-error-message",b.innerHTML='<span class="js-form-error-message-title">Ooooops!</span>This form seems to have errors.',d.form.insertBefore(b,d.form.firstChild)}}};s.prototype.getFormByName=function(a){return document.forms[a]||{}},s.prototype.validateForm=function(a){if(a.length<=0)return!1;for(var b=!0,c=0,d=a.length;d>c;c++)this.validateField(a[c])||(b=!1);return b},s.prototype.validateField=function(a){if(!a)return!1;for(var d=this.form[a.name],e=0,f=a.rules.length;f>e;e++){var g=a.rules[e].split("=")[0],h=a.rules[e].split("=")[1],i=-1!==a.rules.indexOf("required"),j=!d.value||""===d.value||d.value===b;if(!i&&j)break;if(h){if(!this.validators[g](d,h))return p(d,"js-form-field-valid"),o(d,"js-form-field-invalid"),q(d,"js-form-field-error"),r(d,'<span class="js-form-field-error">'+(c[g]?c[g].replace("%s",a.name).replace("%a",h):c.defaultError)+"</span>"),!1}else if(!this.validators[g](d))return p(d,"js-form-field-valid"),o(d,"js-form-field-invalid"),q(d,"js-form-field-error"),r(d,'<span class="js-form-field-error">'+(c[g]?c[g].replace("%s",a.name):c.defaultError)+"</span>"),!1}return q(d,"js-form-field-error"),p(d,"js-form-field-invalid"),o(d,"js-form-field-valid"),!0},s.prototype.validators={alphanumeric:function(a){return d.test(a.value)},email:function(a){return f.test(a.value)},equal_to:function(a,b){return g.test(b)&&a.value===parseInt(b)},exact_length:function(a,b){return g.test(b)&&a.value.length===parseInt(b)},greater_than:function(a,b){return g.test(a.value)&&g.test(b)&&a.value>=parseInt(b)},integer:function(a){return g.test(a.value)},less_than:function(a,b){return g.test(a.value)&&g.test(b)&&a.value<=parseInt(b)},match:function(a,b){return d.test(a.value)&&d.test(b)&&a.value===b},max_length:function(a,b){return g.test(b)&&a.value.length<=parseInt(b)},min_length:function(a,b){return g.test(b)&&a.value.length>=parseInt(b)},name:function(a){return e.test(a.value)},required:function(a){return"checkbox"===a.type||"radio"===a.type?a.checked:null!==a.value&&""!==a.value},spanish_dni:function(a){if(h.test(a.value)){var b="TRWAGMYFPDXBNJZSQVHLCKET";return a.value.slice(-1).toUpperCase()===b[a.value.slice(0,8)%23]}return!1},spanish_phone:function(a){return j.test(a.value)},spanish_mobile:function(a){return i.test(a.value)},spanish_postal:function(a){return k.test(a.value)},url:function(a){return l.test(a.value)},username:function(a){return m.test(a.value)}},a.FormValidator=s}(window);