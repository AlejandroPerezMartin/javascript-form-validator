/**
 * @author   Alejandro Perez Martin
 * @url      http://github.com/alejandroperezmartin/javascript-form-validator
 */
 !function(a){"use strict";var b={required:"This field is required",email:"You entered an invalid email",name:"The %s field only allows alphabetic characters, spaces and dashes",integer:"The %s field only accepts integers",spanish_dni:"The %s field only allows 8 numbers and 1 character",spanish_phone:"The %s field only allows 9 numbers",spanish_mobile:"The %s field only allows 9 numbers",spanish_postal:"The %s field only allows 5 numbers",less_than:"The %s field value must be less than %l",greater_than:"The %s field value must to be greater than %l",equal_to:"The %s field value must to be equal to %l",min_length:"The %s field value must be at least %l characters in length",max_length:"The %s field value can't exceed %l charcters",exact_length:"The %s field value must to be %l characters in length>"},c=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,d=/^\-?[0-9]+$/,e=/^[A-z- 'áéíóúñçÁÉÍÓÚÑÇ]+$/,f=/^[67]{1}[0-9]{8}$/,g=/^[6789]{1}[0-9]{8}$/,h=/^[0-9]{8}[a-zA-Z]{1}$/,i=/^[0-5]{1}[0-9]{4}$/,j=function(a,b){return new RegExp(" "+b+" ").test(" "+a.className+" ")},k=function(a,b){j(a,b)||(a.className+=" "+b)},l=function(a,b){var c=" "+a.className.replace(/[\t\r\n]/g," ")+" ";if(j(a,b)){for(;c.indexOf(" "+b+" ")>=0;)c=c.replace(" "+b+" "," ");a.className=c.replace(/^\s+|\s+$/g,"")}},m=function(a,b){var c=a.nextSibling;c&&j(c,b)&&c.remove()},n=function(a,b){a.insertAdjacentHTML("afterend",b)},o=function(a,b){this.fields=b,this.form=this.getFormByName(a);for(var c=this,d=0,e=this.fields.length;e>d;d+=1)!function(a){var b=c.fields[a];c.form[b.name].addEventListener("blur",function(){c.validateField(b)})}(d);this.form.onsubmit=function(a){if(!c.validateForm(c.fields)&&(a.preventDefault(),!document.getElementsByClassName("js-form-error-message")[0])){var b=document.createElement("DIV");b.className="js-form-error-message",b.innerHTML='<span class="js-form-error-message-title">Ooooops!</span>This form seems to have errors.',c.form.insertBefore(b,c.form.firstChild)}}};o.prototype.getFormByName=function(a){return document.forms[a]||{}},o.prototype.validateForm=function(a){if(a.length<=0)return!1;for(var b=!0,c=0,d=a.length;d>c;c++)this.validateField(a[c])||(b=!1);return b},o.prototype.validateField=function(a){if(!a)return!1;for(var c=this.form[a.name],d=0,e=a.rules.length;e>d;d++){var f=a.rules[d].split("=")[0],g=a.rules[d].split("=")[1];if(g){if(!this.validators[f](c,parseInt(g)))return l(c,"js-form-field-valid"),k(c,"js-form-field-invalid"),m(c,"js-form-field-error"),n(c,'<span class="js-form-field-error">'+b[f].replace("%s",a.name).replace("%l",g)+"</span>"),!1}else if(!this.validators[f](c))return l(c,"js-form-field-valid"),k(c,"js-form-field-invalid"),m(c,"js-form-field-error"),n(c,'<span class="js-form-field-error">'+b[f].replace("%s",a.name)+"</span>"),!1}return m(c,"js-form-field-error"),l(c,"js-form-field-invalid"),k(c,"js-form-field-valid"),!0},o.prototype.validators={required:function(a){return"checkbox"===a.type||"radio"===a.type?a.checked:null!==a.value&&""!==a.value},email:function(a){return c.test(a.value)},name:function(a){return e.test(a.value)},integer:function(a){return d.test(a.value)},spanish_dni:function(a){if(h.test(a.value)){var b="TRWAGMYFPDXBNJZSQVHLCKET";return a.value.slice(-1).toUpperCase()===b[a.value.slice(0,8)%23]}return!1},spanish_phone:function(a){return g.test(a.value)},spanish_mobile:function(a){return f.test(a.value)},spanish_postal:function(a){return i.test(a.value)},less_than:function(a,b){return d.test(a.value)&&d.test(b)&&a.value<=b},greater_than:function(a,b){return d.test(a.value)&&d.test(b)&&a.value>=b},equal_to:function(a,b){return d.test(b)&&a.value===b},min_length:function(a,b){return d.test(b)&&a.length>=b},max_length:function(a,b){return d.test(b)&&a.length<=b},exact_length:function(a,b){return d.test(b)&&a.length===b}},a.FormValidator=o}(window);
